const { createApp, routing } = domerjs

const page = (text) => ({
  tag: 'div',
  render: text
})

const basePath = '/examples/router'

const appRouter = routing.router((path) => {
  const relativePath = path.replace(basePath, '')
  if (relativePath === ``) return page('This is page one.')
  if (relativePath === `/two`) return page('This is page two.')
  if (relativePath === `/three`) return page('This is page three.')
})

const { link } = routing

const menuLink = (path, text) => link(path, text, { class: cl(styles, 'menuLink') })

const links = {
  tag: 'div',
  render: [
    menuLink(`${basePath}`, 'ONE'),
    menuLink(`${basePath}/two`, 'TWO'),
    menuLink(`${basePath}/three`, 'THREE')
  ]
}

const app = {
  tag: 'div',
  render: [links, appRouter]
}

createApp(app, document.getElementById('output'), {})