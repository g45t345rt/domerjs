function n(){return(n=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var e="";function t(n){if("string"==typeof n)return t({path:n});if(Array.isArray(n))return n.some(function(n){return t(n)});var r=n.path,o=n.exact,i=void 0===o||o,a=window.location.pathname;if(!a.startsWith(e))return!1;var c=a.replace(e,"");return i?c===r:c.startsWith(r)}var r=function(n){return e=n};function o(n){var t=""+e+n;window.history.pushState({path:t},"",t),window.dispatchEvent(new Event("popstate"));var r=n.indexOf("#");if(-1!==r){var o=n.substring(r+1),i=document.getElementById(o);i&&window.scrollTo(0,i.offsetTop)}}var i=function(e,t,r){return{tag:"a",props:n({href:e},r),render:t,events:{click:function(n){n.preventDefault(),o(e)}}}};function a(n,e){var t=n.props,r=void 0===t?{}:t;return"function"==typeof r[e]?r[e].bind(n).call():r[e]}function c(n){var e=[];return Array.isArray(n)?e=n:n&&"object"==typeof n&&(n.tag?e.push(n):e=Object.values(n)),e}function u(n){n.appended&&("function"==typeof n.onDetach&&n.onDetach(),n.parent.element.removeChild(n.element),n.appended=!1,c(n.children).forEach(function(n){return u(n)}))}var f=["string","number"];function p(n,e,t){void 0===t&&(t={}),function n(e,t,r){(function(e,t,r){e.mounted||(t&&(e.parent=t),e.context||(e.context=r),e.state||(e.state={}),e.element=document.createElement(e.tag),e.mounted=!0,function(n){n.listeners=[],Object.keys(n).forEach(function(e){var t=null;if("events"===e&&(t=n.element),"windowEvents"===e&&(t=window),"documentEvents"===e&&(t=document),t){var r=n[e];Object.keys(r).forEach(function(e){var o=r[e].bind(n);n.listeners.push({element:t,eventKey:e,eventFunc:o}),t.addEventListener(e,o)})}})}(e),function(e,t){e.update=function(){this.mounted&&(n(this,null,t),"function"==typeof e.onUpdate&&e.onUpdate())}}(e,r),function(n){n.setState=function(n){var e=this;Object.keys(n).forEach(function(t){e.state[t]=n[t]}),this.update()}}(e),function(n){n.getFirstParent=function(n){return this.parent&&this.parent.getFirstParent?n(this.parent)?this.parent:this.parent.getFirstParent(n):null}}(e),"function"==typeof e.onMount&&e.onMount())})(e,t,r),function(n){var e=n.props,t=n.element;Object.keys(void 0===e?{}:e).forEach(function(e){var r=a(n,e);!1===r?t.removeAttribute(e):t.setAttribute(e,r)})}(e);var o=e.children,i=function n(e,t){if("function"==typeof t){var r=e.render();return n(e,r)}return t}(e,e.render);i&&(e.children=i);var p=c(o),s=c(e.children);p.forEach(function(n){u(n),s.find(function(e){return e.element&&n.element.isEqualNode(e.element)})||function n(e){e.mounted&&("function"==typeof e.onUnMount&&e.onUnMount(),function(n){n.listeners.forEach(function(n){n.element.removeEventListener(n.eventKey,n.eventFunc)}),n.listeners=[]}(e),e.parent=null,e.element=null,e.mounted=!1,c(e.children).forEach(function(e){return n(e)}))}(n)}),-1!==f.indexOf(typeof o)&&-1===f.indexOf(typeof e.children)&&(e.html?e.element.innerHTML="":e.element.textContent=""),-1===f.indexOf(typeof e.children)||e.children===o&&e.appended||(e.html?e.element.innerHTML=e.children:e.element.textContent=e.children),s.forEach(function(t){n(t,e,r)}),!1===i?u(e):function(n){n.appended||(n.parent.element.appendChild(n.element),n.appended=!0,"function"==typeof n.onAppend&&n.onAppend())}(e)}(n,{element:e},t)}function s(n){return[].slice.call(arguments,1).map(function(e){return n[e]}).join(" ")}function l(n){var e="";return Object.keys(n).forEach(function(t){e+=function(n){return n.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}(t)+":"+n[t]+";"}),e}var d=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function h(n,e){e&&!n.parent&&(n.parent=e);var t=function(n){var e="",t=n.props;return Object.keys(void 0===t?{}:t).forEach(function(t){var r=t;"className"===r&&(r="class"),e+=" "+r+'="'+a(n,t)+'"'}),e}(n),r=n.tag,o=n.render;if(-1!==d.indexOf(r))return"<"+r+t+"/>";var i="";"string"==typeof o&&(i+=o);var u=n.children;if("function"==typeof o){var f=n.render();"string"==typeof f?i+=f:u=f}return c(u).forEach(function(e){return i+=h(e,n)}),"<"+r+t+">"+i+"</"+r+">"}export{s as cl,p as createApp,h as createHtml,i as link,o as pushRoute,t as routeMatch,r as setBaseroute,l as st};
//# sourceMappingURL=domerjs.module.js.map
