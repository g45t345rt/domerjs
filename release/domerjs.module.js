function n(){return(n=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function e(n,e){window.history.pushState({path:e},"",e);var t=n.getFirstParent(function(n){return!0===n.router});t&&t.update()}var t={router:function(n){return{router:!0,tag:"div",render:function(){var e=window.location.pathname;return n(e)},windowEvents:{popstate:function(){this.update()}}}},link:function(t,r,o){return{tag:"a",props:n({href:t},o),render:r,events:{click:function(n){n.preventDefault(),e(this,t);var r=t.indexOf("#");if(-1!==r){var o=t.substring(r+1),i=document.getElementById(o);i&&window.scrollTo(0,i.offsetTop)}}}}},pushRoute:e};function r(n,e){var t=n.props,r=void 0===t?{}:t;return"function"==typeof r[e]?r[e].bind(n).call():r[e]}function o(n){var e=[];return Array.isArray(n)?e=n:n&&"object"==typeof n&&(n.tag?e.push(n):e=Object.values(n)),e}function i(n){n.appended&&("function"==typeof n.onDetach&&n.onDetach(),n.parent.element.removeChild(n.element),n.appended=!1,o(n.children).forEach(function(n){return i(n)}))}var u=["string","number"];function c(n,e,t){!function n(e,t,c){(function(e,t,r){e.mounted||(t&&(e.parent=t),r.context&&(e.context=r.context),e.state||(e.state={}),e.element=document.createElement(e.tag),e.mounted=!0,function(n){n.listeners=[],Object.keys(n).forEach(function(e){var t=null;if("events"===e&&(t=n.element),"windowEvents"===e&&(t=window),"documentEvents"===e&&(t=document),t){var r=n[e];Object.keys(r).forEach(function(e){var o=r[e].bind(n);n.listeners.push({element:t,eventKey:e,eventFunc:o}),t.addEventListener(e,o)})}})}(e),function(e,t){e.update=function(){this.mounted&&(n(this,null,t),"function"==typeof e.onUpdate&&e.onUpdate())}}(e,r),function(n){n.setState=function(n){var e=this;Object.keys(n).forEach(function(t){e.state[t]=n[t]}),this.update()}}(e),function(n){n.getFirstParent=function(n){return this.parent&&this.parent.getFirstParent?n(this.parent)?this.parent:this.parent.getFirstParent(n):null}}(e),"function"==typeof e.onMount&&e.onMount())})(e,t,c),function(n){var e=n.props,t=n.element;Object.keys(void 0===e?{}:e).forEach(function(e){var o=r(n,e);!1===o?t.removeAttribute(e):t.setAttribute(e,o)})}(e);var a=e.children,f=function n(e,t){if("function"==typeof t){var r=e.render();return n(e,r)}return t}(e,e.render);f&&(e.children=f);var p=o(a),s=o(e.children);p.forEach(function(n){i(n),s.find(function(e){return e.element&&n.element.isEqualNode(e.element)})||function n(e){e.mounted&&("function"==typeof e.onUnMount&&e.onUnMount(),function(n){n.listeners.forEach(function(n){n.element.removeEventListener(n.eventKey,n.eventFunc)}),n.listeners=[]}(e),e.parent=null,e.element=null,e.mounted=!1,o(e.children).forEach(function(e){return n(e)}))}(n)}),-1!==u.indexOf(typeof a)&&-1===u.indexOf(typeof e.children)&&(e.html?e.element.innerHTML="":e.element.textContent=""),-1===u.indexOf(typeof e.children)||e.children===a&&e.appended||(e.html?e.element.innerHTML=e.children:e.element.textContent=e.children),s.forEach(function(t){n(t,e,c)}),!1===f?i(e):function(n){n.appended||(n.parent.element.appendChild(n.element),n.appended=!0,"function"==typeof n.onAppend&&n.onAppend())}(e)}(n,{element:e},t)}function a(n){return[].slice.call(arguments,1).map(function(e){return n[e]}).join(" ")}function f(n){var e="";return Object.keys(n).forEach(function(t){e+=function(n){return n.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}(t)+":"+n[t]+";"}),e}var p=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function s(n,e){e&&!n.parent&&(n.parent=e);var t=function(n){var e="",t=n.props;return Object.keys(void 0===t?{}:t).forEach(function(t){var o=t;"className"===o&&(o="class"),e+=" "+o+'="'+r(n,t)+'"'}),e}(n),i=n.tag,u=n.render;if(-1!==p.indexOf(i))return"<"+i+t+"/>";var c="";"string"==typeof u&&(c+=u);var a=n.children;if("function"==typeof u){var f=n.render();"string"==typeof f?c+=f:a=f}return o(a).forEach(function(e){return c+=s(e,n)}),"<"+i+t+">"+c+"</"+i+">"}export{a as cl,c as createApp,s as createHtml,t as routing,f as st};
//# sourceMappingURL=domerjs.module.js.map
