function e(){return(e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function n(e,n){window.history.pushState({path:n},"",n);var t=e.getFirstParent(function(e){return!0===e.router});t&&t.update()}var t={router:function(e){return{router:!0,tag:"div",render:function(){var n=window.location.pathname;return e(n)},windowEvents:{popstate:function(){this.update()}}}},link:function(t,r,o){return{tag:"a",props:e({href:t},o),render:r,events:{click:function(e){e.preventDefault(),n(this,t);var r=t.indexOf("#");if(-1!==r){var o=t.substring(r+1),i=document.getElementById(o);i&&window.scrollTo(0,i.offsetTop)}}}}},pushRoute:n};function r(e,n){var t=e.props,r=void 0===t?{}:t;return"function"==typeof r[n]?r[n].bind(e).call():r[n]}function o(e){var n=[];return Array.isArray(e)?n=e:e&&"object"==typeof e&&(e.tag?n.push(e):n=Object.values(e)),n}function i(e){e.appended&&("function"==typeof e.onDetach&&e.onDetach(),e.parent.element.removeChild(e.element),e.appended=!1,o(e.children).forEach(function(e){return i(e)}))}var u=["string","number"],c=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];exports.cl=function(e){return[].slice.call(arguments,1).map(function(n){return e[n]}).join(" ")},exports.createApp=function(e,n,t){!function e(n,t,c){(function(n,t,r){n.mounted||(t&&(n.parent=t),r.context&&(n.context=r.context),n.state||(n.state={}),n.element=document.createElement(n.tag),n.mounted=!0,function(e){e.listeners=[],Object.keys(e).forEach(function(n){var t=null;if("events"===n&&(t=e.element),"windowEvents"===n&&(t=window),"documentEvents"===n&&(t=document),t){var r=e[n];Object.keys(r).forEach(function(n){var o=r[n].bind(e);e.listeners.push({element:t,eventKey:n,eventFunc:o}),t.addEventListener(n,o)})}})}(n),function(n,t){n.update=function(){this.mounted&&(e(this,null,t),"function"==typeof n.onUpdate&&n.onUpdate())}}(n,r),function(e){e.setState=function(e){var n=this;Object.keys(e).forEach(function(t){n.state[t]=e[t]}),this.update()}}(n),function(e){e.getFirstParent=function(e){return this.parent&&this.parent.getFirstParent?e(this.parent)?this.parent:this.parent.getFirstParent(e):null}}(n),"function"==typeof n.onMount&&n.onMount())})(n,t,c),function(e){var n=e.props,t=e.element;Object.keys(void 0===n?{}:n).forEach(function(n){var o=r(e,n);!1===o?t.removeAttribute(n):t.setAttribute(n,o)})}(n);var a=n.children,f=function e(n,t){if("function"==typeof t){var r=n.render();return e(n,r)}return t}(n,n.render);f&&(n.children=f);var p=o(a),s=o(n.children);p.forEach(function(e){i(e),s.find(function(n){return n.element&&e.element.isEqualNode(n.element)})||function e(n){n.mounted&&("function"==typeof n.onUnMount&&n.onUnMount(),function(e){e.listeners.forEach(function(e){e.element.removeEventListener(e.eventKey,e.eventFunc)}),e.listeners=[]}(n),n.parent=null,n.element=null,n.mounted=!1,o(n.children).forEach(function(n){return e(n)}))}(e)}),-1!==u.indexOf(typeof a)&&-1===u.indexOf(typeof n.children)&&(n.html?n.element.innerHTML="":n.element.textContent=""),-1===u.indexOf(typeof n.children)||n.children===a&&n.appended||(n.html?n.element.innerHTML=n.children:n.element.textContent=n.children),s.forEach(function(t){e(t,n,c)}),!1===f?i(n):function(e){e.appended||(e.parent.element.appendChild(e.element),e.appended=!0,"function"==typeof e.onAppend&&e.onAppend())}(n)}(e,{element:n},t)},exports.createHtml=function e(n,t){t&&!n.parent&&(n.parent=t);var i=function(e){var n="",t=e.props;return Object.keys(void 0===t?{}:t).forEach(function(t){var o=t;"className"===o&&(o="class"),n+=" "+o+'="'+r(e,t)+'"'}),n}(n),u=n.tag,a=n.render;if(-1!==c.indexOf(u))return"<"+u+i+"/>";var f="";"string"==typeof a&&(f+=a);var p=n.children;if("function"==typeof a){var s=n.render();"string"==typeof s?f+=s:p=s}return o(p).forEach(function(t){return f+=e(t,n)}),"<"+u+i+">"+f+"</"+u+">"},exports.routing=t,exports.st=function(e){var n="";return Object.keys(e).forEach(function(t){n+=function(e){return e.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}(t)+":"+e[t]+";"}),n};
//# sourceMappingURL=domerjs.js.map
